<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GenAI in Education - Pavlos Andreadis</title>
    <link rel="icon" type="image/png" sizes="16x16" href="src/assets/img/Lighthouse_16_16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="src/assets/img/Lighthouse_32_32.png">
    <link rel="stylesheet" href="src/assets/css/styles.css">
    <style>
        .project-box {
            background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
            border-left: 5px solid #667eea;
            padding: 2rem;
            margin: 2rem 0;
            border-radius: 0 12px 12px 0;
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.1);
        }
        
        .project-box h2 {
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.6rem;
        }
        
        .project-box h3 {
            color: #667eea;
            margin: 1.5rem 0 0.5rem 0;
            font-size: 1.2rem;
        }
        
        .project-box p {
            margin: 0.5rem 0;
            color: #555;
            line-height: 1.6;
        }
        
        .project-box ul {
            margin: 0.5rem 0;
            padding-left: 1.5rem;
            color: #555;
        }
        
        .project-box li {
            margin: 0.3rem 0;
            line-height: 1.5;
        }
        
        .highlight-text {
            background: rgba(102, 126, 234, 0.1);
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-weight: 500;
        }
        
        .contact-info {
            background: white;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1rem;
            border: 1px solid #e8eaff;
        }
        
        .page-nav {
            background: linear-gradient(135deg, rgba(48, 168, 156, 0.8) 0%, rgba(76, 94, 175, 0.8) 50%, rgba(88, 56, 121, 0.8) 100%);
            padding: 0.5rem 1.5rem;
            margin: 1.5rem 0;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.2);
            position: relative;
            overflow: hidden;
        }
        
        .page-nav::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -75%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at 25% 20%, rgba(255, 255, 255, 0.06) 0%, transparent 50%),
                        radial-gradient(circle at 75% 80%, rgba(255, 255, 255, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 50% 60%, rgba(255, 255, 255, 0.04) 0%, transparent 50%);
            animation: swirl 8s ease-in-out infinite;
            z-index: 0;
        }
        
        .page-nav::after {
            content: '';
            position: absolute;
            top: -30%;
            right: -30%;
            width: 160%;
            height: 160%;
            background: radial-gradient(circle at 60% 40%, rgba(255, 255, 255, 0.05) 0%, transparent 50%),
                        radial-gradient(circle at 20% 70%, rgba(255, 255, 255, 0.03) 0%, transparent 50%);
            animation: swirl 12s ease-in-out infinite reverse;
            z-index: 0;
        }
        
        .page-nav .rectangles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        
        .page-nav .rectangles::before {
            content: '';
            position: absolute;
            top: 20%;
            left: 10%;
            width: 30px;
            height: 15px;
            background: rgba(0, 0, 0, 0.3);
            transform: rotate(45deg);
            animation: float 6s ease-in-out infinite;
        }
        
        .page-nav .rectangles::after {
            content: '';
            position: absolute;
            bottom: 30%;
            right: 15%;
            width: 25px;
            height: 20px;
            background: rgba(0, 0, 0, 0.25);
            transform: rotate(-30deg);
            animation: float 8s ease-in-out infinite reverse;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0px) rotate(45deg);
                opacity: 0.3;
            }
            25% {
                transform: translateY(-8px) rotate(50deg);
                opacity: 0.5;
            }
            50% {
                transform: translateY(-15px) rotate(40deg);
                opacity: 0.2;
            }
            75% {
                transform: translateY(-5px) rotate(55deg);
                opacity: 0.4;
            }
        }
        
        @keyframes swirl {
            0%, 100% {
                transform: rotate(0deg) scale(1);
            }
            25% {
                transform: rotate(90deg) scale(1.1);
            }
            50% {
                transform: rotate(180deg) scale(0.9);
            }
            75% {
                transform: rotate(270deg) scale(1.05);
            }
        }
        
        .page-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
            display: flex;
            justify-content: flex-start;
            gap: 1.5rem;
            flex-wrap: wrap;
        }
        
        .page-nav li {
            margin: 0;
        }
        
        .page-nav a {
            color: #ffffff;
            text-decoration: none;
            font-weight: 700;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: all 0.2s ease;
            font-size: 0.95rem;
            position: relative;
            z-index: 1;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.8), 0 1px 2px rgba(0, 0, 0, 0.6), 0 0 10px rgba(255, 255, 255, 0.2);
        }
        
        .page-nav a:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }
        
        @media (max-width: 768px) {
            .page-nav ul {
                flex-direction: column;
                gap: 0.5rem;
            }
            
            .page-nav a {
                display: block;
                text-align: center;
            }
        }
        
        /* Responsive navigation */
        @media (max-width: 1200px) {
            .top-nav {
                min-height: auto !important;
                padding: 15px 0 !important;
            }
            
            .top-nav ul {
                flex-wrap: wrap !important;
                justify-content: center !important;
                gap: 10px !important;
            }
            
            .top-nav li {
                margin: 5px 8px !important;
            }
            
            .search-item {
                margin-left: 0 !important;
                margin-top: 10px !important;
                order: 999 !important;
            }
        }
        
        @media (max-width: 768px) {
            .top-nav {
                min-height: auto !important;
                padding: 12px 0 !important;
            }
            
            .top-nav ul {
                flex-wrap: wrap !important;
                justify-content: center !important;
                gap: 8px !important;
            }
            
            .top-nav li {
                margin: 3px 6px !important;
            }
            
            .search-item {
                margin-left: 0 !important;
                margin-top: 8px !important;
                order: 999 !important;
            }
            
            .page-nav ul {
                flex-direction: column;
                gap: 0.5rem;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav class="top-nav">
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="aist.html">AI & Storytelling</a></li>
                <li><a href="genai.html" class="active">GenAI in Education</a></li>
                <li><a href="genaiart.html">GenAI Art</a></li>
                <li><a href="ai-art-exhibition.html">AI Can't Sing</a></li>
                <li><a href="lerobot-hackathon.html">LeRobot Hackathon</a></li>
                <li><a href="spel.html">SPEL</a></li>
                <li><a href="teachathon.html">Teachathon</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li class="search-item" style="margin-left: auto;">
                    <div class="search-box" style="display: flex; align-items: center; background: rgba(255,255,255,0.1); border-radius: 20px; padding: 6px 12px; border: 1px solid rgba(255,255,255,0.2);">
                        <input type="text" id="searchInput" placeholder="Search..." style="border: none; outline: none; background: transparent; width: 100px; font-size: 13px; padding: 3px; color: white; color-scheme: dark;">
                        <button onclick="performSearch()" style="background: rgba(255,255,255,0.2); color: white; border: none; border-radius: 50%; width: 24px; height: 24px; cursor: pointer; display: flex; align-items: center; justify-content: center; margin-left: 6px; font-size: 12px;">
                            üîç
                        </button>
                    </div>
                    <div id="searchResults" style="position: absolute; top: 100%; right: 0; background: white; border-radius: 8px; box-shadow: 0 4px 20px rgba(0,0,0,0.15); max-width: 300px; max-height: 400px; overflow-y: auto; display: none; margin-top: 5px; z-index: 1000;"></div>
                </li>
            </ul>
        </nav>
    </header>
    <main>
        <h1>GenAI in Education</h1>
        <p>Insights, projects, and resources on the use of Generative AI in educational contexts will be shared here.</p>
        
        <nav class="page-nav">
            <div class="rectangles"></div>
            <ul>
                <li><a href="#ptas-project">üî¨ PTAS Project</a></li>
                <li><a href="#ukicer-2025">üéì UKICER 2025</a></li>
                <li><a href="#cseg-work">üë• CSEG Leadership</a></li>
                <li><a href="#lt-conference-2025">ü§ñ L&T 2025</a></li>
                <li><a href="#lt-conference-2023">üìä L&T 2023</a></li>
                <li><a href="#teaching-festival">üé™ Teaching Festival 2022</a></li>
            </ul>
        </nav>
        
        <div class="project-box" id="ptas-project">
            <h2>üî¨ PTAS-Funded Project: GenAI Integration in Computer Science Education</h2>
            <p><strong>Principal Investigator:</strong> Pavlos Andreadis</p>
            <p><strong>Team:</strong> Aurora Constantin, Cristina Adriana Alexandru, Fiona Mcneill, Heather Yorston, Judy Robertson, Stuart King, Vidminas Vizgirda; and Anya Habana, Aagoon Chakraborty, Kashvi Chabbra</p>
            <p><strong>Institution:</strong> School of Informatics, Computer Science Education Group</p>
            <p><strong>Funding:</strong> Principal's Teaching Award Scheme</p>
            
            <h3>Project Motivation</h3>
            <p>Following the lessons learned from Covid-19 (students needed access to learning materials) and the emergence of ChatGPT (students need learning, not test prep), this project addresses the fundamental shift in how students think, search, and problem-solve with GenAI.</p>
            
            <h3>Research Goals</h3>
            <ul>
                <li>Understand faculty and student perceptions of GenAI integration</li>
                <li>Document current approaches to GenAI in Computer Science teaching</li>
                <li>Identify challenges and barriers to effective integration</li>
                <li>Develop evidence-based recommendations for educational practice</li>
            </ul>
            
            <h3>Research Methodology</h3>
            <p><strong>Survey Participants:</strong></p>
            <ul>
                <li><span class="highlight-text">230 Students:</span> 55% male, 36% female, 3% non-binary/third, 6% prefer not to say</li>
                <li><span class="highlight-text">52 Academic Staff:</span> 50% male, 27% female, 8% non-binary/third, 15% prefer not to say</li>
                <li><span class="highlight-text">Focus Groups:</span> 12 Students, 5 Academic Staff</li>
            </ul>
            
            <h3>Key Findings</h3>
            <ul>
                <li><strong>Outlawing GenAI is pointless</strong> ‚Äì students will adapt around bans</li>
                <li><strong>Traditional "final-answer" assessment is obsolete</strong> ‚Äì focus on process</li>
                <li><strong>Make students work with/against GenAI</strong> ‚Äì don't ignore or fear it</li>
                <li><strong>Teach prompt engineering and critical AI use</strong> ‚Äì not just memorization</li>
                <li><strong>GenAI can support fundamentals</strong> ‚Äì use it to teach and assess real skills</li>
                <li><strong>AI detectors don't work</strong> ‚Äì don't rely on them</li>
                <li><strong>Exams instead of coursework is only a temporary crutch</strong> ‚Äì don't miss the bigger opportunity</li>
            </ul>
            
            <h3>Recommendations</h3>
            <ul>
                <li><strong>Lecturers:</strong> Start small ‚Äì experiment with redesigning one assessment</li>
                <li><strong>Administration:</strong> Invest in real assessment redesign ‚Äì this isn't a minor patch</li>
                <li>Get clear on what students should learn and do with GenAI</li>
                <li>Some domains will need GenAI-specific curricula</li>
                <li>Leverage GenAI to enhance teaching and assessment</li>
                <li>The world has changed ‚Äì our assessment and teaching must change with it</li>
            </ul>
            
            <div class="contact-info">
                <p><strong>Contact:</strong> Pavlos Andreadis</p>
                <p><strong>Email:</strong> <a href="mailto:pavlos.andreadis@ed.ac.uk">pavlos.andreadis@ed.ac.uk</a></p>
            </div>
        </div>
        
        <div class="project-box" id="ukicer-2025">
            <h2>üéì UKICER 2025 - Conference Organization & Workshop Presentation</h2>
            <p><strong>Conference:</strong> <a href="https://www.ukicer.com" target="_blank">UK and Ireland Computing Education Research (UKICER) 2025</a></p>
            <p><strong>Dates:</strong> September 4-5, 2025</p>
            <p><strong>Location:</strong> Edinburgh, UK</p>
            
            <h3>Organizational Role</h3>
            <p>I am helping organize UKICER 2025 as part of the Local Organising Committee. My main responsibilities include:</p>
            <ul>
                <li><strong>Website Maintenance:</strong> Maintaining and updating the conference website</li>
                <li><strong>On-site Administration:</strong> Managing logistics and coordination during the conference</li>
                <li><strong>GenAI Workshop:</strong> Building, organizing, and delivering an organizer workshop on GenAI in Education</li>
            </ul>
            
            <h3>Workshop Presentation</h3>
            <p>I am excited to be presenting a further GenAI workshop alongside Jake Van Clief, focusing on practical applications of generative AI in educational contexts. This workshop will explore innovative approaches to integrating AI tools in computer science education.</p>
            
            <h3>Conference Overview</h3>
            <p>UKICER is a leading forum for researchers and practitioners to meet and share advances in computer science education. The conference brings together researchers, academics, industry practitioners and teachers from across the UK and Ireland as well as from the rest of Europe and the wider world.</p>
        </div>
        
        <div class="project-box" id="cseg-work">
            <h2>üë• Computer Science Education Group (CSEG) Leadership</h2>
            <p><strong>Group:</strong> <a href="https://informatics.ed.ac.uk/computer-science-education-cse-group" target="_blank">Computer Science Education Group (CSEG)</a></p>
            <p><strong>Role:</strong> Key Organizer and Active Member</p>
            <p><strong>Institution:</strong> School of Informatics, University of Edinburgh</p>
            
            <h3>Teaching Hours Leadership</h3>
            <p>I have been a key organizer for dozens of Teaching Hours events, many of which have focused specifically on GenAI in Higher Education. These sessions bring together educators, researchers, and practitioners to share insights, challenges, and best practices in computer science education.</p>
            
            <h3>Event Resources</h3>
            <ul>
                <li><strong>LinkedIn Group:</strong> <a href="https://www.linkedin.com/groups/13122419/" target="_blank">CSEG LinkedIn Community</a> - Join our professional network</li>
                <li><strong>Events Page:</strong> <a href="https://informatics.ed.ac.uk/computer-science-education-cse-group/news-and-events" target="_blank">CSEG News and Events</a> - Official events calendar</li>
            </ul>
            
            <p><em>Note: The old event archive as well as all recent events are not currently accessible, but we aim to recreate at least the comprehensive list of past events.</em></p>
            
            <h3>Group Mission</h3>
            <p>The Computer Science Education (CSE) group is a platform that brings together peers from the University of Edinburgh, as well as associate members from the UK and beyond, who are involved in teaching and learning and are passionate about Computer Science Education. Our members come from diverse backgrounds and professions, enriching our collective knowledge and enabling us to engage in mutual learning, improve our teaching, foster innovation, and continuously enhance educational practices.</p>
        </div>
        
        <div class="project-box" id="lt-conference-2025">
            <h2>ü§ñ Learning and Teaching Conference 2025 - GenAI Integration & AI Innovation Panel</h2>
            <p><strong>Conference:</strong> <a href="https://institute-academic-development.ed.ac.uk/learning-teaching/cpd/workshops/learning-teaching-conference" target="_blank">University of Edinburgh Learning and Teaching Conference 2025</a></p>
            <p><strong>Presentation:</strong> PTAS Project: GenAI Integration in Computer Science Education</p>
            <p><strong>Panel:</strong> AI for Teaching Innovation Panel Member</p>
            <p><strong>Institution:</strong> School of Informatics, University of Edinburgh</p>
            
            <h3>PTAS Project Presentation</h3>
            <p>I presented our comprehensive PTAS-funded research on GenAI integration in Computer Science Education, sharing the key findings from our survey of 230 students and 52 academic staff, along with evidence-based recommendations for educational practice.</p>
            
            <h3>AI Innovation Panel Contributions</h3>
            <p>As a panel member on the "AI for Teaching Innovation" discussion, I contributed insights on:</p>
            <ul>
                <li><strong>Co-Mod Project:</strong> Discussed our work towards a Feedback Moderator and Coordinator system</li>
                <li><strong>Environmental Impact Debate:</strong> Challenged prevalent misconceptions about GenAI's environmental cost</li>
                <li><strong>Training vs. Inference:</strong> Drew clear distinctions between training and inference time costs</li>
                <li><strong>Mature Discussion Framework:</strong> Advocated for more nuanced understanding of AI's environmental impact</li>
            </ul>
            
            <h3>Environmental Impact Discussion</h3>
            <p>I addressed the critical issue of how naive handling of GenAI's environmental impact by colleagues has hindered student development. The PTAS survey results clearly show that overly cautious approaches based on misinformation have prevented students from gaining essential AI literacy and skills.</p>
            
            <h3>Key Arguments Presented</h3>
            <ul>
                <li><strong>Inference vs. Training:</strong> Emphasized that inference time (what students use) has minimal environmental impact compared to training</li>
                <li><strong>Educational Opportunity Cost:</strong> Highlighted how avoiding GenAI due to environmental concerns deprives students of essential skills</li>
                <li><strong>Evidence-Based Approach:</strong> Advocated for data-driven decisions rather than fear-based restrictions</li>
                <li><strong>Student Development:</strong> Stressed the importance of preparing students for an AI-integrated workforce</li>
            </ul>
            
            <h3>Impact</h3>
            <p>This presentation and panel participation helped shift the conversation from fear-based restrictions to evidence-based integration strategies, contributing to a more mature and productive discussion about GenAI in education at the University of Edinburgh.</p>
        </div>
        
        <div class="project-box" id="lt-conference-2023">
            <h2>üìä Learning and Teaching Conference 2023 - Learning Analytics at Scale</h2>
            <p><strong>Conference:</strong> <a href="https://institute-academic-development.ed.ac.uk/learning-teaching/cpd/workshops/learning-teaching-conference" target="_blank">University of Edinburgh Learning and Teaching Conference 2023</a></p>
            <p><strong>Publication:</strong> <a href="https://scholar.google.com/citations?view_op=view_citation&hl=en&user=woIOwo4AAAAJ&citation_for_view=woIOwo4AAAAJ:_kc_bZDykSQC" target="_blank">Designing Useful Learning Analytics: Developing an Adaptable LA Dashboard</a></p>
            <p><strong>Authors:</strong> Paul Boocock, Stefania Sandu, Xinyi Liu, Qiwen Liang, Heather Yorston, Aurora Constantin, Cristina Alexandru, Pavlos Andreadis</p>
            <p><strong>Institution:</strong> School of Informatics, University of Edinburgh</p>
            
            <h3>Research Focus</h3>
            <p>This work addressed the critical need for systematic Learning Analytics (LA) infrastructure rather than ad-hoc solutions. The research focused on designing for co-design of course data and interventions, rather than designing the LA experience in an ad-hoc basis.</p>
            
            <h3>Key Innovation</h3>
            <p>Our approach emphasized the development of an adaptable LA Dashboard that works School-wide and adapts to the requirements of individual users, computing infrastructure, and data availability. This represented a shift from custom, one-off solutions to a scalable, systematic framework.</p>
            
            <h3>Methodology</h3>
            <ul>
                <li><strong>Cross-Project Collaboration:</strong> Worked across multiple taught student projects</li>
                <li><strong>Infrastructure Development:</strong> Created adaptable dashboard architecture</li>
                <li><strong>User-Centered Design:</strong> Focused on individual user requirements</li>
                <li><strong>Data Integration:</strong> Addressed varying data availability scenarios</li>
            </ul>
            
            <h3>Connection to GenAI Work</h3>
            <p>This project served as a proving ground for the systematic approach I now advocate for in GenAI integration in Education. The lessons learned about designing scalable, user-adaptive systems directly informed my current work on GenAI integration frameworks and assessment redesign.</p>
            
            <h3>Impact</h3>
            <p>The research identified key barriers to LA adoption and provided a foundation for systematic, scalable learning analytics implementation that can be adapted to various educational contexts and technologies.</p>
        </div>
        
        <div class="project-box" id="teaching-festival">
            <h2>üé™ Informatics Teaching Festival 2022 - Design of Teaching and Learning</h2>
            <p><strong>Event:</strong> <a href="https://blogs.ed.ac.uk/ilts/2022/05/03/informatics-teaching-festival-2022/" target="_blank">Informatics Teaching Festival 2022</a></p>
            <p><strong>Dates:</strong> May 9-11, 2022</p>
            <p><strong>Theme:</strong> Design of Teaching and Learning</p>
            <p><strong>Institution:</strong> School of Informatics, University of Edinburgh</p>
            
            <h3>My Role</h3>
            <p>I served as a <strong>co-organizer and session chair</strong> for this teaching festival, a milestone for the School of Informatics, which focused on the design of teaching and learning in computer science education. The festival brought together educators, researchers, and practitioners to share innovative approaches and best practices.</p>
            
            <h3>My Contributions</h3>
            <ul>
                <li><strong>Co-Organizer:</strong> Helped plan and coordinate the three-day festival structure</li>
                <li><strong>Session Chair:</strong> Facilitated discussions and managed session flow</li>
                <li><strong>Presenter:</strong> Delivered a presentation in one of the sessions</li>
                <li><strong>Panel Leader:</strong> Led a panel discussion on the employability of our graduates</li>
            </ul>
            
            <h3>Festival Structure</h3>
            <ul>
                <li><strong>Day 1:</strong> Overview of Course Design</li>
                <li><strong>Day 2:</strong> Design to Develop Student Skills, including for Industry</li>
                <li><strong>Day 3:</strong> Design of Assessment</li>
            </ul>
            
            <h3>Key Focus Areas</h3>
            <p>The festival addressed critical aspects of modern computer science education, including:</p>
            <ul>
                <li>Process and experience of designing new courses</li>
                <li>Support for course design through ELDeRs (Experienced Learning Designers)</li>
                <li>Sharing positive experiences on improved courses</li>
                <li>Assessment design and marking approaches</li>
                <li>Rubric-based marking schemes</li>
                <li>Challenging assignments without encouraging excessive time investment</li>
            </ul>
            
            <h3>Impact</h3>
            <p>This festival represented a significant milestone in advancing teaching excellence within the School of Informatics, providing a platform for educators to learn from each other and develop innovative approaches to computer science education.</p>
        </div>
    </main>
    
    <!-- Bottom Banner -->
    <div class="bottom-banner">
        <div class="banner-content">
            <h2>Empowerment</h2>
            <p>Guidance ‚Ä¢ Not Control</p>
        </div>
    </div>
    
    <footer>
        <p>&copy; 2025 Pavlos Andreadis. All rights reserved.</p>
    </footer>
    <script src="src/assets/js/scripts.js"></script>
    <script>
        // Enhanced search functionality that searches through page content
        const searchPages = [
            { title: "Home", url: "index.html" },
            { title: "About", url: "about.html" },
            { title: "AI & Storytelling", url: "aist.html" },
            { title: "GenAI in Education", url: "genai.html" },
            { title: "GenAI Art", url: "genaiart.html" },
            { title: "AI Can't Sing", url: "ai-art-exhibition.html" },
            { title: "LeRobot Hackathon", url: "lerobot-hackathon.html" },
            { title: "SPEL", url: "spel.html" },
            { title: "Teachathon", url: "teachathon.html" },
            { title: "Contact", url: "contact.html" }
        ];

        let searchIndex = [];

        // Build search index by fetching page content
        async function buildSearchIndex() {
            searchIndex = [];
            
            for (const page of searchPages) {
                try {
                    const response = await fetch(page.url);
                    const html = await response.text();
                    
                    // Create a temporary DOM element to parse the HTML
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    
                    // Extract text content from main content areas
                    const mainContent = doc.querySelector('main');
                    const content = mainContent ? mainContent.textContent : '';
                    
                    // Extract headings with their IDs or generate IDs
                    const headings = Array.from(doc.querySelectorAll('h1, h2, h3, h4, h5, h6'))
                        .map((h, index) => {
                            const text = h.textContent.trim();
                            if (text.length > 0) {
                                // Use existing ID or generate one
                                let id = h.id;
                                if (!id) {
                                    id = `heading-${index}-${text.toLowerCase().replace(/[^a-z0-9]/g, '-')}`;
                                }
                                return { text, id, element: h };
                            }
                            return null;
                        })
                        .filter(h => h !== null);
                    
                    // Extract paragraphs with their context
                    const paragraphs = Array.from(doc.querySelectorAll('p'))
                        .map((p, index) => {
                            const text = p.textContent.trim();
                            if (text.length > 20) {
                                // Find the nearest heading for context
                                let nearestHeading = '';
                                let currentElement = p;
                                while (currentElement && !nearestHeading) {
                                    const prevHeading = currentElement.previousElementSibling;
                                    if (prevHeading && /^h[1-6]$/i.test(prevHeading.tagName)) {
                                        nearestHeading = prevHeading.textContent.trim();
                                    }
                                    currentElement = currentElement.parentElement;
                                }
                                
                                return {
                                    text,
                                    nearestHeading,
                                    element: p,
                                    index
                                };
                            }
                            return null;
                        })
                        .filter(p => p !== null);
                    
                    searchIndex.push({
                        title: page.title,
                        url: page.url,
                        content: content.toLowerCase(),
                        headings: headings,
                        paragraphs: paragraphs.slice(0, 5) // Limit to first 5 paragraphs
                    });
                } catch (error) {
                    console.log(`Could not fetch ${page.url}:`, error);
                }
            }
        }

        function performSearch() {
            const query = document.getElementById('searchInput').value.toLowerCase().trim();
            const resultsContainer = document.getElementById('searchResults');
            
            if (query === '') {
                resultsContainer.style.display = 'none';
                return;
            }

            if (searchIndex.length === 0) {
                resultsContainer.innerHTML = '<div style="padding: 15px; color: #666; text-align: center;">Building search index...</div>';
                resultsContainer.style.display = 'block';
                return;
            }

            const results = [];
            const seenUrls = new Set(); // Track URLs to avoid duplicates
            
            searchIndex.forEach(item => {
                // Search in title
                if (item.title.toLowerCase().includes(query)) {
                    const url = item.url;
                    if (!seenUrls.has(url)) {
                        results.push({
                            title: item.title,
                            url: url,
                            context: item.title,
                            type: 'title'
                        });
                        seenUrls.add(url);
                    }
                }
                
                // Search in headings
                item.headings.forEach(heading => {
                    if (heading.text.toLowerCase().includes(query)) {
                        const url = `${item.url}#${heading.id}`;
                        if (!seenUrls.has(url)) {
                            results.push({
                                title: item.title,
                                url: url,
                                context: heading.text,
                                type: 'heading'
                            });
                            seenUrls.add(url);
                        }
                    }
                });
                
                // Search in paragraphs
                item.paragraphs.forEach(paragraph => {
                    if (paragraph.text.toLowerCase().includes(query)) {
                        const context = paragraph.nearestHeading || item.title;
                        const anchorId = context.toLowerCase().replace(/[^a-z0-9]/g, '-');
                        const url = `${item.url}#${anchorId}`;
                        
                        // Only add if we haven't seen this URL and the content is different enough
                        if (!seenUrls.has(url)) {
                            const contextText = paragraph.text.substring(0, 100) + '...';
                            results.push({
                                title: item.title,
                                url: url,
                                context: contextText,
                                type: 'content'
                            });
                            seenUrls.add(url);
                        }
                    }
                });
            });

            if (results.length === 0) {
                resultsContainer.innerHTML = '<div style="padding: 15px; color: #666; text-align: center;">No results found</div>';
            } else {
                resultsContainer.innerHTML = results.slice(0, 8).map(result => `
                    <a href="${result.url}" onclick="handleSearchResultClick(event, '${result.url}')" style="display: block; padding: 12px 15px; text-decoration: none; color: #333; border-bottom: 1px solid #f0f0f0; transition: background-color 0.2s;">
                        <div style="font-weight: 600; margin-bottom: 4px;">${result.title}</div>
                        <div style="font-size: 12px; color: #666;">${result.context}</div>
                        <div style="font-size: 10px; color: #999; margin-top: 2px;">${result.type === 'heading' ? 'üìã Section' : result.type === 'content' ? 'üìÑ Content' : 'üè† Page'}</div>
                    </a>
                `).join('');
            }
            
            resultsContainer.style.display = 'block';
        }

        // Search on Enter key
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // Hide results when clicking outside
        document.addEventListener('click', function(e) {
            const searchItem = document.querySelector('.search-item');
            const resultsContainer = document.getElementById('searchResults');
            
            if (!searchItem.contains(e.target)) {
                resultsContainer.style.display = 'none';
            }
        });

        // Handle search result clicks
        function handleSearchResultClick(event, url) {
            event.preventDefault();
            
            // Hide search results
            document.getElementById('searchResults').style.display = 'none';
            
            // Check if it's a same-page anchor
            if (url.includes('#')) {
                const [pageUrl, anchor] = url.split('#');
                
                // If it's the same page, scroll to the anchor
                if (pageUrl === window.location.pathname || pageUrl === window.location.href.split('#')[0]) {
                    const targetElement = document.getElementById(anchor);
                    if (targetElement) {
                        // Scroll to element with offset for better aesthetics
                        const elementTop = targetElement.offsetTop;
                        const offset = 80; // 80px offset from top
                        window.scrollTo({
                            top: elementTop - offset,
                            behavior: 'smooth'
                        });
                        
                        // Add a brief highlight effect
                        targetElement.style.backgroundColor = '#fff3cd';
                        targetElement.style.transition = 'background-color 0.5s';
                        setTimeout(() => {
                            targetElement.style.backgroundColor = '';
                        }, 2000);
                    } else {
                        // Try to find by text content
                        const allElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, div');
                        for (let element of allElements) {
                            if (element.textContent.toLowerCase().includes(anchor.replace(/-/g, ' '))) {
                                // Scroll to element with offset for better aesthetics
                                const elementTop = element.offsetTop;
                                const offset = 80; // 80px offset from top
                                window.scrollTo({
                                    top: elementTop - offset,
                                    behavior: 'smooth'
                                });
                                
                                // Add a brief highlight effect
                                element.style.backgroundColor = '#fff3cd';
                                element.style.transition = 'background-color 0.5s';
                                setTimeout(() => {
                                    element.style.backgroundColor = '';
                                }, 2000);
                                break;
                            }
                        }
                    }
                } else {
                    // Navigate to different page
                    window.location.href = url;
                }
            } else {
                // Navigate to different page
                window.location.href = url;
            }
        }

        // Real-time search as you type
        let searchTimeout;
        document.getElementById('searchInput').addEventListener('input', function() {
            clearTimeout(searchTimeout);
            searchTimeout = setTimeout(performSearch, 300);
        });

        // Build search index when page loads
        document.addEventListener('DOMContentLoaded', function() {
            buildSearchIndex();
            
            // Add IDs to all headings for anchor navigation
            const headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6');
            headings.forEach((heading, index) => {
                if (!heading.id) {
                    const text = heading.textContent.trim();
                    const id = `heading-${index}-${text.toLowerCase().replace(/[^a-z0-9]/g, '-')}`;
                    heading.id = id;
                }
            });
            
            // Handle anchor scrolling for search results
            if (window.location.hash) {
                setTimeout(() => {
                    const targetId = window.location.hash.substring(1);
                    const targetElement = document.getElementById(targetId);
                    
                    if (targetElement) {
                        // Scroll to element with offset for better aesthetics
                        const elementTop = targetElement.offsetTop;
                        const offset = 80; // 80px offset from top
                        window.scrollTo({
                            top: elementTop - offset,
                            behavior: 'smooth'
                        });
                        
                        // Add a brief highlight effect
                        targetElement.style.backgroundColor = '#fff3cd';
                        targetElement.style.transition = 'background-color 0.5s';
                        setTimeout(() => {
                            targetElement.style.backgroundColor = '';
                        }, 2000);
                    } else {
                        // If exact ID not found, try to find by text content
                        const allElements = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, div');
                        for (let element of allElements) {
                            if (element.textContent.toLowerCase().includes(targetId.replace(/-/g, ' '))) {
                                // Scroll to element with offset for better aesthetics
                                const elementTop = element.offsetTop;
                                const offset = 80; // 80px offset from top
                                window.scrollTo({
                                    top: elementTop - offset,
                                    behavior: 'smooth'
                                });
                                
                                // Add a brief highlight effect
                                element.style.backgroundColor = '#fff3cd';
                                element.style.transition = 'background-color 0.5s';
                                setTimeout(() => {
                                    element.style.backgroundColor = '';
                                }, 2000);
                                break;
                            }
                        }
                    }
                }, 500);
            }
        });
    </script>
</body>
</html> 